<template name="faq">
  {{#Surface size="[undefined,undefined]"}}
    <div id="main" role="main">
      <h1>Frequently Asked Questions</h1>
      <p>Read through these to avoid unnecessary misery :)</p>

      <div class="panel panel-default">
        <div class="panel-heading">
          <h5>I've just gotten started and I can't get anything to layout properly</h5>
        </div>
        <div class="panel-body">
          If you're using raix:famono, make sure you imported the Famo.us CSS, as
          documented at the bottom of the <a href="/start">QuickStart</a>.
        </div>
      </div>

      <div class="panel panel-default">
        <div class="panel-heading">
          <h5>Views work on desktop but don't (or look weird) on mobile or emulation</h5>
        </div>
        <div class="panel-body">
          Disable user scaling by putting the following in your
          <code>&lt;head></code>:<br />
          <code>&lt;meta name="viewport" content="width=device-width, maximum-scale=1, user-scalable=no">
          </code>
        </div>
      </div>

      <div class="panel panel-default">
        <div class="panel-heading">
          <h5>DOM not updated / <code>$(selector)</code> not working (inside <code>rendered()</code> callback)</h5>
        </div>
        <div class="panel-body">
          It would be great but very inefficient for us to emulate Meteor's
          behaviour exactly.  Note that as per the
          <a href="http://famo.us/guides/pitfalls">Famo.us Pitfalls</a>
          guide, pinging the DOM <i>is really bad practice</i> and can cause
          performance problems in your app.  Two easy workarounds:

          <ol>
            <li><b>Use <code>this.$()</code> instead</b> - since although your
            template is not in the DOM yet, it is part of the DOM range in
            your template instance.  <i>This is much faster too</i>.</li>

            <li><b>Wrap your code in
            <code>window.requestAnimationFrame()</code></b>,
            if you need your DIV to be "fully rendered", i.e., not just on the
            DOM, but updated by Famous too.  This is because Famo.us buffers
            changes for performance, and this way you'll ensure your code runs
            after the commit.  <i>Avoid if possible.</i></li>
          </ol>
        </div>
      </div>

      <div class="panel panel-default">
        <div class="panel-heading">
          <h5>In Meteor Cordova clicks are recorded twice</h5>
        </div>
        <div class="panel-body">
          See <a href="https://github.com/gadicc/meteor-famous-views/issues/89">issue #89</a>.
          In brief you have probably <code>FastClick</code> installed twice
          (once via Meteor and once via Famous) and you should remove one
          of them.  See the issue for more info.
        </div>
      </div>

      <div class="panel panel-default">
        <div class="panel-heading">
          <h5>Performance / Jagged Animations</h5>
        </div>
        <div class="panel-body">
          <p><b>First</b>, make sure you've read the
          <a href="http://famo.us/guides/pitfalls">Famo.us Pitfalls</a> guide, it covers
          a lot of useful info including specific CSS properties which can affect
          performance.</p>

          <p>Beyond that, the most common problem is reactive callbacks.  Since v0.1.33,
          we make sure that an implicit Tracker Flush cycle don't span over multiple animation frames, and set Meteor.setImmediate to use famous.core.Engine.defer().</p>

          <p>However, we have no control what happens in a single reactive callback,
          particularly the ones you are writing yourself.  Also, since v0.1.33, we (by default)
          detect and log this for you.  You'll probably notice that for every break in
          smooth animation, you have a log entry like this:</p>

          <pre><code>  debug:  [famous-views]  The following computation took 24ms to complete: function viewAutorun(c) wikiRender:materialize</code></pre>

          <p>You can tweak this output with the following options (default values below):</p>

          <pre><code lang="javascript">  Tracker.warnOnLongComputations = true;       // log long-running computations
  Tracker.showComputationsInWarnings = false;  // Dump the full Computation object too
  Tracker.showFullFuncsInWarnings = false;     // Dump the actual function in full</code></pre>

          <p>Hopefully, you'll recognize the name of your custom function and can work to
          make parts of it asynchronous.  <code>showComputationsInWarnings</code> might
          give you some more details you need.</p>
        </div><!-- panel-body -->
      </div><!-- panel-default -->

    </div>
  {{/Surface}}
</template>
